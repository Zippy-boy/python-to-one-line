exec("import os, json\n\nawx_base_url = \"https://awx.testing.net\"\ninventory_name = \"VCenter - Stage\"\n\n\n##APIs\ncallersapi_build_number = 131\nrespondersapi_build_number = 1316\nmaxapi_build_number = 131605\n\nkoss_build_number = 1317\nkoss_deploy_frontend = true\nkoss_deploy_backend = true\nkoss_deploy_cronjob = false\n\n\n\n\nto_deploy_dict = [\n    {\n        \'name\': \'callerAPI and Redis\',\n        \'cmd\': f\"awx workflow_job_templates launch --inventory \'{inventory_name}\' --extra_vars \'{{ build_number: {callersapi_build_number} }}\' 40\",\n    },\n    {\n        \'name\': \'respondersAPI and Redis\',\n        \'cmd\': f\"awx workflow_job_templates launch --inventory \'{inventory_name}\' --extra_vars \'{{ build_number: {respondersapi_build_number} }}\' 19\",\n    },\n    {\n        \'name\': \'maxAPI and Redis\',\n        \'cmd\': f\"awx workflow_job_templates launch --inventory \'{inventory_name}\' --extra_vars \'{{ build_number: {maxapi_build_number} }}\' 11\",\n    },\n    {\n        \"name\": \"koss\",\n        \"cmd\": f\"awx job_templates launch --inventory \'{inventory_name}\' --extra_vars \'{{ koss_build_number: {koss_build_number} , deploy_backend: {koss_deploy_backend}, deploy_frontend: {koss_deploy_frontend}, deploy_cronjob: {koss_deploy_cronjob} }}\' 1043\",\n    },\n]\n\n#######################################################################\n##  RUN: Iterate through dict and deploy each item.\n##  Output will be:\n##      Executing: <command line>\n##      <item name>: <url to job log>\n#######################################################################\nfor item in to_deploy_dict:\n    print(\"Executing: \" + item[\"cmd\"])\n    jobid = json.loads(os.popen(item[\"cmd\"]).read())[\"job\"]\n    joburl = f\"{awx_base_url}/#/jobs/playbook/{jobid}/output\"\n    print(f\"{item[\'name\']}: {joburl}\")\n")
